<div class="modal-header">
    <h3 class="modal-title text-center">Edit Ad</h3>
</div>
<form name="editAdForm" class="form-horizontal ">
    <fieldset>
        <div class="modal-body">
            <!-- title, text and image  -->
            <div class="row">
                <div class="col-md-8 col-sm-8 col-xs-8">
                    <div class="form-group">
                        <div class="pull-right text-danger col-md-3 col-sm-3 col-xs-3" ng-show="editAdForm.title.$error.required && editAdForm.title.$dirty">
                        Required!</div>
                        <label for="title" class="col-md-3 col-sm-4 col-xs-4 control-label">
                        Title: <b class="text-danger">*</b> </label>
                        <div class="col-md-9 col-sm-8 col-xs-8">
                            <input type="text" name="title" class="form-control" id="title" placeholder="Title" ng-model="editAdForm.title" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="pull-right text-danger col-md-3 col-sm-3 col-xs-3" ng-show="editAdForm.text.$error.required && editAdForm.text.$dirty">Required!</div>
                        <label for="text" class="col-md-3 col-sm-4 col-xs-4 control-label">
                            Text: <b class="text-danger">*</b>
                        </label>
                        <div class="col-md-9 col-sm-8 col-xs-8">
                            <textarea class="form-control" rows="5" id="text" name="text" ng-model="editAdForm.text" required></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-sm-4 col-xs-4" >
                    <img ng-src="{{editAdForm.imageDataUrl}}"  alt=""
                    class="ad-image img-responsive">
                    <div class="ad-edit-buttons" >
                        <a class="btn btn-primary ad-edit-buttons-link" ng-click="deleteImage()">Delete</a>
                    </div>
                </div>
            </div>
            <!-- browse image, town and category-->
            <div class="row">
                <div class="col-md-8 col-sm-8 col-xs-8">
                    <div class="form-group">
                        <label for="image" class="col-md-3 col-sm-4 col-xs-4 control-label">Image:
                        </label>
                        <div class="col-md-9 col-sm-8 col-xs-8">
                            <div class="input-group">
                                <span class="input-group-btn">
                                <span class="btn btn-primary btn-file">Browseâ€¦
                                <input type="file" multiple="" id="image" onchange="angular.element(this).scope().fileSelected(this)" />
                                </span>
                                </span>
                                <input type="text" class="form-control image-title" readonly=""
                                value="" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="selectTown" class="col-md-3 col-sm-4 col-xs-4 control-label">Town:</label>
                        <div class="col-md-9 col-sm-8 col-xs-8">
                            <select class="form-control" id="selectTown" ng-model="editAdForm.townId">
                                <option value="{{nullValue}}">None</option>
                                <option ng-repeat="town in townsData" value="{{town.id}}">{{town.name}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="selectCategory" class="col-md-3 col-sm-4 col-xs-4 control-label">Category:</label>
                        <div class="col-md-9 col-sm-8 col-xs-8">
                            <select class="form-control" id="selectCategory" ng-model="editAdForm.categoryId">
                                <option value="{{nullValue}}">None</option>
                                <option ng-repeat="category in categoriesData" value="{{category.id}}">{{category.name}}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <!-- note on required fields-->
            <div class="form-group">
                <div class="col-md-12">
                    <p class="text-danger text-center"><b class="text-danger">Note:</b> The fields with * are required.You can not edit the ad and submit it leaving them blank.You can change or delete the current image.</p>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="form-group">
                <button class="btn btn-info" type="submit" name="edit" data="{{currentAd.id}}" ng-click="ok(currentAd.id, editAdForm)" >
                Edit</button>
                <button class="btn btn-primary" ng-click="cancel()">Cancel</button>
            </div>
        </div>
    </fieldset>
</form>